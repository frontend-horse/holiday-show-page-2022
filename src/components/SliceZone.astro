---
import GuestList from './GuestList.astro';

import SponsorList from './SponsorList.astro';
// import RegisterCTA from './RegisterCTA.astro';
import CharityDetails from './CharityDetails.astro';
import EventDetails from './EventDetails.astro';
import LastYearRecap from './LastYearRecap.astro';
import DonationLeaderboard from './DonationLeaderboard.astro';
import CommunityList from './CommunityList.astro';
import FAQ from './FAQ.astro';

const components = {
  guest_list: GuestList,
  sponsor_list: SponsorList,
  charity_details: CharityDetails,
  event_details: EventDetails,
  // register_cta: RegisterCTA,
  last_year_recap: LastYearRecap,
  donation_leaderboard: DonationLeaderboard,
  community_list: CommunityList,
  frequently_asked_questions: FAQ,
};

const { slices } = Astro.props;
// This component takes in content from Prismic and renders the appropriate component
---

<>
  {
    slices
      .filter((slice) => slice.slice_type !== 'register_cta')
      .map((slice, index) => {
        const Component = components[slice.slice_type];
        return <Component key={index} slice={slice} />;
      })
  }
</>
